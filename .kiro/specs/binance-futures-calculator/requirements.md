# เอกสารความต้องการ

## บทนำ

ฟีเจอร์นี้จะสร้างเครื่องคำนวณ Binance Futures Calculator (USDⓈ-M) ที่ครอบคลุมและคำนวณราคา liquidation สำหรับ perpetual futures contracts ได้อย่างแม่นยำ เครื่องคำนวณจะจำลองฟังก์ชันและความแม่นยำของเครื่องคำนวณ futures อย่างเป็นทางการของ Binance โดยเน้นเฉพาะการคำนวณราคา liquidation พร้อมการรวมข้อมูลแบบเรียลไทม์และรองรับคู่เทรดหลายคู่

## ความต้องการ

### ความต้องการ 1

**User Story:** ในฐานะเทรดเดอร์ futures ฉันต้องการเลือกจากคู่เทรด Binance perpetual futures หลายคู่ เพื่อที่ฉันจะสามารถคำนวณราคา liquidation สำหรับ cryptocurrency ต่างๆ ได้

#### เกณฑ์การยอมรับ

1. เมื่อแอปพลิเคชันโหลด ระบบจะต้องดึงและแสดงคู่เทรด Binance USDⓈ-M perpetual futures ทั้งหมดที่มีใน dropdown
2. เมื่อผู้ใช้เลือกคู่เทรด ระบบจะต้องอัปเดตข้อมูลที่เกี่ยวข้องทั้งหมด รวมถึงราคาปัจจุบัน leverage brackets และ maintenance margin rates
3. เมื่อข้อมูลคู่เทรดกำลังโหลด ระบบจะต้องแสดง loading states ที่เหมาะสม
4. หากคำขอ API ล้มเหลว ระบบจะต้องแสดงข้อความแสดงข้อผิดพลาดและกลไกลองใหม่

### ความต้องการ 2

**User Story:** ในฐานะเทรดเดอร์ futures ฉันต้องการป้อนรายละเอียดตำแหน่งของฉัน (ราคาเข้า, จำนวน, ยอดคงเหลือ, leverage) เพื่อที่ฉันจะสามารถคำนวณราคา liquidation ได้อย่างแม่นยำ

#### เกณฑ์การยอมรับ

1. เมื่อผู้ใช้ป้อนราคาเข้า ระบบจะต้องตรวจสอบว่าเป็นตัวเลขบวกที่มีความแม่นยำทศนิยมที่เหมาะสม
2. เมื่อผู้ใช้ป้อนจำนวน ระบบจะต้องตรวจสอบกับขนาดตำแหน่งขั้นต่ำและสูงสุดสำหรับคู่เทรดที่เลือก
3. เมื่อผู้ใช้ป้อนยอดคงเหลือ ระบบจะต้องตรวจสอบว่าเป็นตัวเลขบวก
4. เมื่อผู้ใช้ปรับ leverage ระบบจะต้องแสดงขนาดตำแหน่งสูงสุดที่ leverage ปัจจุบัน
5. เมื่อ leverage เกินกว่าที่อนุญาตสำหรับขนาดตำแหน่ง ระบบจะต้องแสดงคำเตือนและปรับให้เหมาะสม

### ความต้องการ 3

**User Story:** ในฐานะเทรดเดอร์ futures ฉันต้องการเลือกระหว่างตำแหน่ง Long และ Short พร้อมโหมด Cross หรือ Isolated margin เพื่อที่ฉันจะสามารถคำนวณราคา liquidation สำหรับกลยุทธ์การเทรดที่แตกต่างกันได้

#### เกณฑ์การยอมรับ

1. เมื่อผู้ใช้เลือกตำแหน่ง Long ระบบจะต้องคำนวณราคา liquidation โดยใช้สูตรตำแหน่ง long
2. เมื่อผู้ใช้เลือกตำแหน่ง Short ระบบจะต้องคำนวณราคา liquidation โดยใช้สูตรตำแหน่ง short
3. เมื่อเลือกโหมด Cross margin ระบบจะต้องใช้ยอดคงเหลือบัญชีทั้งหมดในการคำนวณ liquidation
4. เมื่อเลือกโหมด Isolated margin ระบบจะต้องใช้เฉพาะ margin ของตำแหน่งในการคำนวณ liquidation

### ความต้องการ 4

**User Story:** ในฐานะเทรดเดอร์ futures ฉันต้องการให้การคำนวณราคา liquidation แม่นยำ 100% ตามการคำนวณอย่างเป็นทางการของ Binance เพื่อที่ฉันจะสามารถตัดสินใจเทรดได้อย่างมีข้อมูล

#### เกณฑ์การยอมรับ

1. เมื่อคำนวณราคา liquidation ระบบจะต้องใช้สูตร liquidation ที่แน่นอนของ Binance รวมถึง maintenance margin rates
2. เมื่อคำนวณราคา liquidation ระบบจะต้องคำนึงถึง unrealized PnL จากตำแหน่งที่มีอยู่
3. เมื่อคำนวณราคา liquidation ระบบจะต้องใช้ maintenance margin brackets ที่ถูกต้องตามขนาดตำแหน่ง
4. เมื่อขนาดตำแหน่งเปลี่ยนแปลง ระบบจะต้องคำนวณใหม่โดยใช้อัตรา maintenance margin rate tier ที่เหมาะสม

### ความต้องการ 5

**User Story:** ในฐานะเทรดเดอร์ futures ฉันต้องการการรวมข้อมูลตลาดแบบเรียลไทม์ เพื่อที่การคำนวณของฉันจะอิงจากสภาวะตลาดปัจจุบัน

#### เกณฑ์การยอมรับ

1. เมื่อแอปพลิเคชันโหลด ระบบจะต้องดึงราคาตลาดปัจจุบันจาก Binance API
2. เมื่อเลือกคู่เทรด ระบบจะต้องดึง leverage brackets และ maintenance margin rates
3. เมื่อข้อมูลตลาดเก่ากว่า 30 วินาที ระบบจะต้องรีเฟรชข้อมูลโดยอัตโนมัติ
4. หากข้อมูล API ไม่พร้อมใช้งาน ระบบจะต้องแสดงคำเตือนเกี่ยวกับการคำนวณที่อาจล้าสมัย

### ความต้องการ 6

**User Story:** ในฐานะเทรดเดอร์ futures ฉันต้องการส่วนติดต่อผู้ใช้ที่ใช้งานง่ายและตรงกับรูปแบบการออกแบบของ Binance เพื่อที่ฉันจะสามารถใช้เครื่องคำนวณได้อย่างมีประสิทธิภาพ

#### เกณฑ์การยอมรับ

1. เมื่อดูเครื่องคำนวณ ระบบจะต้องแสดงส่วนติดต่อธีมมืดที่คล้ายกับการออกแบบของ Binance
2. เมื่อโต้ตอบกับ form inputs ระบบจะต้องให้ feedback ทางภาพและการตรวจสอบทันที
3. เมื่อผลการคำนวณพร้อมใช้งาน ระบบจะต้องแสดงอย่างเด่นชัดพร้อมการจัดรูปแบบที่เหมาะสม
4. เมื่อใช้อุปกรณ์มือถือ ระบบจะต้องให้เลย์เอาต์ที่ตอบสนองที่ทำงานได้บนหน้าจอทุกขนาด

### ความต้องการ 7

**User Story:** ในฐานะเทรดเดอร์ futures ฉันต้องการเห็นข้อมูลตำแหน่งเพิ่มเติม เช่น ขนาดตำแหน่งสูงสุดที่ leverage ปัจจุบัน เพื่อที่ฉันจะสามารถเข้าใจขีดจำกัดการเทรดของฉัน

#### เกณฑ์การยอมรับ

1. เมื่อปรับ leverage ระบบจะต้องแสดงขนาดตำแหน่งสูงสุดที่เป็นไปได้ที่ leverage นั้น
2. เมื่อพารามิเตอร์ตำแหน่งเปลี่ยนแปลง ระบบจะต้องแสดงคำเตือนที่เกี่ยวข้องเกี่ยวกับข้อกำหนด margin
3. เมื่อการคำนวณเสร็จสิ้น ระบบจะต้องแสดงข้อความอธิบายเกี่ยวกับปัจจัยที่ส่งผลต่อราคา liquidation
4. หากตำแหน่งเกินขนาดสูงสุดที่อนุญาต ระบบจะต้องแสดงคำเตือนและข้อเสนอแนะที่เหมาะสม