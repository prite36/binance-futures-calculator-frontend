# เอกสารความต้องการ

## บทนำ

ระบบจัดการแผนการเทรดเป็นฟีเจอร์หลักของหน้าแรกเว็บไซต์ที่ช่วยให้ผู้ใช้สามารถสร้าง จัดการ และติดตามแผนการลงทุนของตนเองได้อย่างมีประสิทธิภาพ ระบบนี้จะใช้ IndexedDB ผ่าน Dexie.js ในการจัดเก็บข้อมูลในเบราว์เซอร์ของผู้ใช้

## อภิธานศัพท์

- **Trading_Plan_System**: ระบบจัดการแผนการเทรดที่ทำงานบนหน้าแรกของเว็บไซต์
- **Plan**: แผนการลงทุนที่ผู้ใช้สร้างขึ้น ประกอบด้วย ID ในรูปแบบ plan_<number> ชื่อ (optional) คำอธิบาย (optional) trading pair และข้อมูลการคำนวณ
- **IndexedDB**: ฐานข้อมูลในเบราว์เซอร์สำหรับจัดเก็บข้อมูลแผนการเทรด
- **Dexie_Library**: ไลบรารี JavaScript สำหรับจัดการ IndexedDB
- **Plan_List**: รายการแผนการเทรดที่แสดงบนหน้าแรก
- **Plan_Editor**: หน้าสำหรับสร้างและแก้ไขแผนการเทรด

## ความต้องการ

### ความต้องการที่ 1

**User Story:** ในฐานะผู้เทรด ฉันต้องการเห็นรายการแผนการเทรดทั้งหมดที่เคยสร้างไว้บนหน้าแรก เพื่อให้สามารถเข้าถึงและจัดการแผนต่างๆ ได้อย่างสะดวก

#### เกณฑ์การยอมรับ

1. WHEN ผู้ใช้เข้าสู่หน้าแรกของเว็บไซต์, THE Trading_Plan_System SHALL แสดงรายการแผนการเทรดทั้งหมดที่จัดเก็บใน IndexedDB
2. THE Trading_Plan_System SHALL แสดงข้อมูลในรูปแบบตารางที่รองรับทั้ง desktop และ mobile
3. THE Trading_Plan_System SHALL แสดงข้อมูลของแต่ละแผนประกอบด้วย Plan ID ชื่อแผน (ถ้ามี) คำอธิบาย (ถ้ามี) trading pair และวันที่สร้าง
4. THE Trading_Plan_System SHALL มีฟีเจอร์ filter เพื่อกรองแผนตาม trading pair
5. WHEN ไม่มีแผนการเทรดในระบบ, THE Trading_Plan_System SHALL แสดงข้อความแนะนำให้สร้างแผนใหม่
6. THE Trading_Plan_System SHALL จัดเรียงรายการแผนตามวันที่แก้ไขล่าสุดจากใหม่ไปเก่า

### ความต้องการที่ 2

**User Story:** ในฐานะผู้เทรด ฉันต้องการสร้างแผนการเทรดใหม่ เพื่อให้สามารถวางแผนและคำนวณการลงทุนได้

#### เกณฑ์การยอมรับ

1. THE Trading_Plan_System SHALL มีปุ่มสร้างแผนใหม่บนหน้าแรก
2. WHEN ผู้ใช้คลิกปุ่มสร้างแผนใหม่, THE Trading_Plan_System SHALL นำทางไปยังหน้าสร้างแผนใหม่
3. THE Trading_Plan_System SHALL สร้าง ID ในรูปแบบ plan_<number> สำหรับแผนใหม่แต่ละแผน โดย number เป็นตัวเลขที่เพิ่มขึ้นเรื่อยๆ
4. THE Trading_Plan_System SHALL ใช้ URL path แบบ subdirectory สำหรับหน้าสร้างและแก้ไขแผน
5. THE Trading_Plan_System SHALL บันทึกแผนใหม่ลงใน IndexedDB ผ่าน Dexie_Library

### ความต้องการที่ 3

**User Story:** ในฐานะผู้เทรด ฉันต้องการแก้ไขและดูรายละเอียดแผนการเทรดที่มีอยู่ เพื่อให้สามารถปรับปรุงและใช้งานแผนได้

#### เกณฑ์การยอมรับ

1. WHEN ผู้ใช้คลิกที่แผนการเทรดในรายการ, THE Trading_Plan_System SHALL นำทางไปยังหน้าแก้ไขแผนที่เลือก
2. THE Trading_Plan_System SHALL โหลดข้อมูลแผนจาก IndexedDB โดยใช้ Plan ID
3. THE Trading_Plan_System SHALL อนุญาตให้ผู้ใช้แก้ไขชื่อแผน คำอธิบาย และพารามิเตอร์การคำนวณ
4. WHEN ผู้ใช้บันทึกการแก้ไข, THE Trading_Plan_System SHALL อัปเดตข้อมูลใน IndexedDB
5. THE Trading_Plan_System SHALL อัปเดตวันที่แก้ไขล่าสุดของแผน

### ความต้องการที่ 4

**User Story:** ในฐานะผู้เทรด ฉันต้องการลบแผนการเทรดที่ไม่ต้องการแล้ว เพื่อให้รายการแผนเป็นระเบียบและไม่รกรุงรัง

#### เกณฑ์การยอมรับ

1. THE Trading_Plan_System SHALL มีตัวเลือกลบแผนสำหรับแต่ละแผนในรายการ
2. WHEN ผู้ใช้เลือกลบแผน, THE Trading_Plan_System SHALL แสดงข้อความยืนยันการลบ
3. WHEN ผู้ใช้ยืนยันการลบ, THE Trading_Plan_System SHALL ลบแผนออกจาก IndexedDB
4. THE Trading_Plan_System SHALL อัปเดตรายการแผนบนหน้าแรกทันทีหลังจากลบ

### ความต้องการที่ 5

**User Story:** ในฐานะผู้เทรด ฉันต้องการเพิ่มหมายเหตุและคำอธิบายในแผนการเทรด เพื่อให้จำได้ว่าแผนนี้มีวัตถุประสงค์อะไร

#### เกณฑ์การยอมรับ

1. THE Trading_Plan_System SHALL อนุญาตให้ผู้ใช้เพิ่มชื่อแผนที่มีความหมาย (optional)
2. THE Trading_Plan_System SHALL อนุญาตให้ผู้ใช้เพิ่มคำอธิบายหรือหมายเหตุสำหรับแต่ละแผน (optional)
3. THE Trading_Plan_System SHALL แสดงคำอธิบายในรายการแผนบนหน้าแรก
4. THE Trading_Plan_System SHALL จำกัดความยาวของชื่อแผนไม่เกิน 100 ตัวอักษร
5. THE Trading_Plan_System SHALL จำกัดความยาวของคำอธิบายไม่เกิน 500 ตัวอักษร

### ความต้องการที่ 6

**User Story:** ในฐานะผู้เทรด ฉันต้องการให้ข้อมูลแผนการเทรดถูกจัดเก็บในเครื่องของฉัน เพื่อให้สามารถเข้าถึงได้แม้ไม่มีอินเทอร์เน็ต

#### เกณฑ์การยอมรับ

1. THE Trading_Plan_System SHALL ใช้ IndexedDB สำหรับจัดเก็บข้อมูลทั้งหมดในเบราว์เซอร์
2. THE Trading_Plan_System SHALL ใช้ Dexie_Library สำหรับจัดการ IndexedDB
3. THE Trading_Plan_System SHALL ทำงานได้แม้ไม่มีการเชื่อมต่ออินเทอร์เน็ต
4. THE Trading_Plan_System SHALL จัดเก็บข้อมูลแผนอย่างถาวรจนกว่าผู้ใช้จะลบ
5. THE Trading_Plan_System SHALL จัดการข้อผิดพลาดเมื่อไม่สามารถเข้าถึง IndexedDB ได้